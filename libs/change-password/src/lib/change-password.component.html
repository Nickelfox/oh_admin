<div class="p-4">

  <form [formGroup]="changePassForm" class="container align-self-start w-50  ml-0 pl-0" (ngSubmit)="submit()">
    <div class="row mb-3">
      <div class="col-12 muli-typography">
        <span class="mat-body-1">Please enter new password along with your old password in below fields to update your account login credentials.</span>
      </div>
    </div>
    <div class="row mb-1">
      <div class="col-12">
        <mat-form-field class='w-100'>
          <mat-label>Old Password</mat-label>
          <input matInput formControlName='password' [type]="passwordHidden.oldPass ? 'password' : 'text'">
          <button type='button' mat-icon-button matSuffix (click)='passwordHidden.oldPass = !passwordHidden.oldPass'>
            <mat-icon>{{passwordHidden.oldPass ? 'visibility_off' : 'visibility'}}</mat-icon>
          </button>
          <mat-error
            *ngIf='changePassForm.controls.password.errors?.required'>{{formValidationService.passwordValidationMessage.required}}</mat-error>
          <mat-error
            *ngIf='changePassForm.controls.password.errors?.invalid'>{{formValidationService.passwordValidationMessage.invalid}}</mat-error>
        </mat-form-field>
      </div>
    </div>
    <div class="row mb-1">
      <div class="col-12">
        <mat-form-field class='w-100'>
          <mat-label>New Password</mat-label>
          <input matInput formControlName='passwordNew' [type]="passwordHidden.newPass ? 'password' : 'text'">
          <button type='button' mat-icon-button matSuffix (click)='passwordHidden.newPass = !passwordHidden.newPass'>
            <mat-icon>{{passwordHidden.newPass ? 'visibility_off' : 'visibility'}}</mat-icon>
          </button>
          <mat-error
            *ngIf='changePassForm.controls.passwordNew.errors?.required'>{{formValidationService.passwordValidationMessage.required}}</mat-error>
          <mat-error
            *ngIf='changePassForm.controls.passwordNew.errors?.invalid'>{{formValidationService.passwordValidationMessage.invalid}}</mat-error>
        </mat-form-field>
      </div>
    </div>
    <div class="row mb-2">
      <div class="col-12">
        <mat-form-field class='w-100'>
          <mat-label>Confirm Password</mat-label>
          <input matInput formControlName='passwordConfirm'
                 [type]="passwordHidden.confPass ? 'password' : 'text'">
          <button type='button' mat-icon-button matSuffix
                  (click)='passwordHidden.confPass = !passwordHidden.confPass'>
            <mat-icon>{{passwordHidden.confPass ? 'visibility_off' : 'visibility'}}</mat-icon>
          </button>
          <mat-error
            *ngIf='changePassForm.controls.passwordConfirm.errors?.required'>{{formValidationService.passwordValidationMessage.required}}</mat-error>
          <mat-error
            *ngIf='changePassForm.controls.passwordConfirm.errors?.notSame'>{{formValidationService.passwordValidationMessage.mismatch}}</mat-error>
        </mat-form-field>
      </div>
    </div>
    <div class="row">
      <div class="col-12 d-flex">
        <button
          class="mr-3"
          [disabled]="store.isChangeLoading$ | async"
          mat-flat-button color="primary" type="submit">Submit
        </button>
        <button
          [disabled]="store.isChangeLoading$ | async"
          mat-stroked-button type="button"
          [routerLink]="['/']">Cancel
        </button>
      </div>
    </div>
  </form>
</div>
