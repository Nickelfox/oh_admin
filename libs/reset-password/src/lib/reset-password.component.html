<hidden-innovation-auth-layout>
  <div class='container-fluid p-0'>
    <div class='row mb-3'>
      <div class='col-12'>
        <h1 class='mat-h1 m-0 mb-1 font-sf-pro--bold'>Reset Password</h1>
        <p class='mat-subheading-2 font-calibri font-weight-normal text-muted mb-0'>Enter the code you received on
          e-mail along with email and new password</p>
      </div>
    </div>
    <form [formGroup]="resetPassForm" class='row' (ngSubmit)="submit()">
      <div class='col-12'>
        <div class='container-fluid p-0'>
          <div class="row mb-1">
            <div class='col-12'>
              <mat-form-field class='w-100'>
                <mat-label>Email</mat-label>
                <input matInput autocomplete='no' type="email" formControlName='email'>
                <mat-error
                  *ngIf='resetPassForm.controls.email.errors?.required'>{{formValidationService.emailValidationMessage.required}}</mat-error>
                <mat-error
                  *ngIf='resetPassForm.controls.email.errors?.email'>{{formValidationService.emailValidationMessage.invalid}}</mat-error>
              </mat-form-field>
            </div>
          </div>
          <div class="row mb-1">
            <div class='col-12'>
              <mat-form-field class='w-100'>
                <mat-label>Code</mat-label>
                <input matInput formControlName='code'>
                <mat-error
                  *ngIf='resetPassForm.controls.code.errors?.required'>
                  Code {{formValidationService.fieldValidationMessage.required}}</mat-error>
                <mat-error
                  *ngIf='resetPassForm.controls.code.errors?.numeric'>Only valid numbers allowed
                </mat-error>
              </mat-form-field>
            </div>
          </div>
          <div class="row mb-1">
            <div class='col-12'>
              <mat-form-field class='w-100'>
                <mat-label>Password</mat-label>
                <input hiddenInnovationDisableCopyPaste matInput formControlName='password' [type]="passwordHidden.pass ? 'password' : 'text'">
                <button type='button' mat-icon-button matSuffix (click)='passwordHidden.pass = !passwordHidden.pass'>
                  <mat-icon>{{passwordHidden.pass ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
                <mat-error
                  *ngIf='resetPassForm.controls.password.errors?.required'>{{formValidationService.passwordValidationMessage.required}}</mat-error>
                <mat-error
                  *ngIf='resetPassForm.controls.password.errors?.invalid'>{{formValidationService.passwordValidationMessage.invalid}}</mat-error>
              </mat-form-field>
            </div>
          </div>
          <div class='row mb-2'>
            <div class='col-12'>
              <mat-form-field class='w-100'>
                <mat-label>Confirm Password</mat-label>
                <input hiddenInnovationDisableCopyPaste matInput formControlName='confirmPassword'
                       [type]="passwordHidden.confPass ? 'password' : 'text'">
                <button type='button' mat-icon-button matSuffix
                        (click)='passwordHidden.confPass = !passwordHidden.confPass'>
                  <mat-icon>{{passwordHidden.confPass ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
                <mat-error
                  *ngIf='resetPassForm.controls.confirmPassword.errors?.required'>{{formValidationService.passwordValidationMessage.required}}</mat-error>
                <mat-error
                  *ngIf='resetPassForm.controls.confirmPassword.errors?.notSame'>{{formValidationService.passwordValidationMessage.mismatch}}</mat-error>
              </mat-form-field>
            </div>
          </div>
          <div class='row'>
            <div class='col-12'>
              <button class="mr-3" mat-flat-button color='primary' type='submit'
                      [disabled]="store.isResetLoading$ | async">Reset
                Password
              </button>
              <a mat-button type='button' [routerLink]="['/login']" [disabled]="store.isResetLoading$ | async">
                Back To Login
              </a>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>

</hidden-innovation-auth-layout>
