<ng-template [ngIf]='isLoading' [ngIfElse]='statsLoadingElse'>
  <div class='container-fluid p-0'>
    <div class='row mb-4'>
      <div class='col-6'>
        <ng-container *ngTemplateOutlet='dummyShimmerRef'></ng-container>
      </div>
      <div class='col-6'>
        <ng-container *ngTemplateOutlet='dummyShimmerRef'></ng-container>
      </div>
    </div>
    <div class='row mb-4'>
      <div class='col-6'>
        <ng-container *ngTemplateOutlet='dummyShimmerRef'></ng-container>
      </div>
    </div>
    <div class='row'>
      <div class='col-12'>
        <ng-container *ngTemplateOutlet='dummyShimmerRef'></ng-container>
      </div>
    </div>
  </div>
</ng-template>
<ng-template #dummyShimmerRef>
  <hidden-innovation-shimmer
    [rounded]='true'
    height='200px'
    width='100%'
  ></hidden-innovation-shimmer>
</ng-template>
<ng-template #statsLoadingElse>
  <div class='container-fluid p-0'>
    <div class='row mb-4'>
      <div class='col-lg-4 mb-2'>
        <mat-card class='pl-1'>
          <div class='container-fluid p-0'>
            <div class='row'>
              <div class='col-12'>
                <div class='d-flex align-items-center mb-3 pl-2'>
                  <mat-icon color='primary' class='mr-1 card-icon'>female</mat-icon>
                  <h4 class='mat-h4 mb-0 text-color__primary font-calibri'>Female Age Group</h4>
                </div>
              </div>
            </div>
            <div class='row'>
              <div class='col-12'>
                <canvas baseChart
                        chartType='bar'
                        [colors]='femaleAgeBarColor'
                        [datasets]='$any(femaleBarData)'
                        [labels]='ageLabels'
                        [legend]='chartLegend'
                        [options]='chartOptionsFemale'
                >
                </canvas>
                <div class='row ' >
                  <div class='col-12 text-center'>
                    <h5 class='mat-h5 font-weight-bolder mb-0 text-color__primary font-calibri'>Age Group</h5>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </mat-card>
      </div>
      <div class='col-lg-4 mb-2'>
        <mat-card class='pl-2'>
          <div class='container-fluid p-0'>
            <div class='row'>
              <div class='col-12'>
                <div class='d-flex align-items-center mb-3 pl-2'>
                  <mat-icon color='primary' class='mr-1 card-icon'>male</mat-icon>
                  <h4 class='mat-h4 mb-0 text-color__primary font-calibri'>Male Age Group</h4>
                </div>
              </div>
            </div>
            <div class='row'>
              <div class='col-12'>
                <canvas
                  baseChart
                  chartType='bar'
                  [colors]='maleAgeBarColor'
                  [datasets]='$any(maleBarData)'
                  [labels]='ageLabels'
                  [legend]='chartLegend'
                  [options]='chartOptionsMale'
                ></canvas>
                <div class='row ' >
                  <div class='col-12 text-center'>
                    <h5 class='mat-h5 font-weight-bolder mb-0 text-color__primary font-calibri'>Age Group</h5>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </mat-card>
      </div>
      <div class='col-lg-4 mb-2'>
        <mat-card class='pl-1'>
          <div class='container-fluid p-0'>
            <div class='row'>
              <div class='col-12'>
                <div class='d-flex align-items-center mb-3 pl-2'>
                  <mat-icon color='primary' class='mr-1 card-icon'>remove</mat-icon>
                  <h4 class='mat-h4 mb-0 text-color__primary font-calibri'>Non Binary Age Group</h4>
                </div>
              </div>
            </div>
            <div class='row'>
              <div class='col-12'>
                <canvas baseChart
                        chartType='bar'
                        [colors]='nonBinaryAgeBarColor'
                        [datasets]='$any(nonBinaryBarData)'
                        [labels]='ageLabels'
                        [legend]='chartLegend'
                        [options]='chartOptionsBinary'
                >
                </canvas>
                <div class='row ' >
                  <div class='col-12 text-center'>
                    <h5 class='mat-h5 font-weight-bolder mb-0 text-color__primary font-calibri'>Age Group</h5>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </mat-card>
      </div>
    </div>
    <div class='row'>
      <div class='col-lg-8 col-md-6'>
        <mat-card>
          <div class='container-fluid p-0'>
            <div class='row'>
              <div class='col-12'>
                <div class='d-flex align-items-center mb-3'>
                  <mat-icon color='primary' class='mr-1 card-icon'>people_alt</mat-icon>
                  <h4 class='mat-h4 mb-0 text-color__primary font-calibri'>Users By Gender</h4>
                </div>
              </div>
            </div>
            <div class='row'>
              <div class='col-6 d-flex align-items-center justify-content-center'>
                <canvas
                  class='w-100'
                  baseChart
                  chartType='doughnut'
                  [colors]='doughnutChartColor'
                  [data]='$any(ratioChartData)'
                  [labels]='doughnutChartLabel'
                  [legend]='chartLegend'
                  [options]='chartOptions'
                ></canvas>
              </div>
              <div class='col-6 mt-4 d-flex flex-column justify-content-around'>
                <div class='container-fluid p-0 w-100'>
                  <div class='row mb-2'>
                    <div class='col-12'>
                      <button class='w-100' mat-stroked-button [ngStyle]='{"color": colors.male}'>
                        <div class='d-flex align-items-center pt-1 py-0'>
                          <mat-icon>male</mat-icon>
                          <div class='d-flex flex-column align-items-center' [ngStyle]='{width: "calc(100% - 42px)"}'>
                            <h4 class='mat-h4 m-0'>Male</h4>
                            <h2 class='mat-h2 m-0' [ngStyle]='{"color": colors.male}'>{{malePercentage}} %</h2>
                          </div>
                        </div>
                      </button>
                    </div>
                  </div>
                  <div class='row mb-2'>
                    <div class='col-12'>
                      <button class='w-100' mat-stroked-button [ngStyle]='{"color": colors.other}'>
                        <div class='d-flex align-items-center pt-1 py-0'>
                          <mat-icon>remove</mat-icon>
                          <div class='d-flex flex-column align-items-center' [ngStyle]='{width: "calc(100% - 42px)"}'>
                            <h4 class='mat-h4 m-0'>Non-Binary</h4>
                            <h2 class='mat-h1 m-0' [ngStyle]='{"color": colors.other}'>{{nonBinaryPercentage}} %</h2>
                          </div>
                        </div>
                      </button>
                    </div>
                  </div>
                  <div class='row'>
                    <div class='col-12'>
                      <button class='w-100' mat-stroked-button [ngStyle]='{"color": colors.female}'>
                        <div class='d-flex align-items-center pt-1 py-0'>
                          <mat-icon>female</mat-icon>
                          <div class='d-flex flex-column align-items-center' [ngStyle]='{width: "calc(100% - 42px)"}'>
                            <h4 class='mat-h4 m-0'>Female</h4>
                            <h2 class='mat-h2 m-0' [ngStyle]='{"color": colors.female}'>{{femalePercentage}} %</h2>
                          </div>
                        </div>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </mat-card>
      </div>
    </div>
  </div>
</ng-template>
