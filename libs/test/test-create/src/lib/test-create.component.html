<form class='p-4' [formGroup]='testGroup' (ngSubmit)='submit()'>
  <div class='container-fluid p-0'>
    <div class='row mb-4'>
      <div class='col-12 d-flex align-items-center justify-content-end'>
        <button
          mat-stroked-button type='button'
          [routerLink]="['/tests']"
          class='ml-3'>
          Cancel
        </button>
        <button
          mat-flat-button
          class='ml-3'
          color='primary' type='submit'>
          Save
        </button>
      </div>
    </div>
  </div>
  <div class='container-fluid p-0'>
    <div class='row '>
      <div class=' col-12'>
        <mat-card>
          <mat-card-content>
            <div class='container-fluid p-0'>
              <div class='row'>
                <div class='col-lg-7 col-12'>
                  <div class='container-fluid p-0'>
                    <div class='row pt-1'>
                      <div class='col-12'>
                        <div class='container-fluid p-0 '>
                          <div class='row mb-3'>
                            <div class='col-12'>
                              <h5 class='mat-h5 text-uppercase text-color__primary--light mb-0 mr-4 font-calibri'>
                                General</h5>
                            </div>
                          </div>
                          <div class='row mb-2'>
                            <div class='col-12'>
                              <hidden-innovation-common-form-field
                                [label]='constantDataService.FIELD_NAME.TEST_NAME | titlecase'
                                controlPath='name'
                              ></hidden-innovation-common-form-field>
                            </div>
                          </div>
                          <div class='row mb-2'>
                            <div class='col-12'>
                              <mat-form-field class='w-100' appearance='fill'>
                                <mat-label>Category</mat-label>
                                <mat-select formControlName='category'>
                                  <mat-option [value]='"NONE"'>None</mat-option>
                                  <mat-option [value]=type
                                              *ngFor='let type of testCatTypeIte'>{{type  | replaceUnderscore | titlecase}}</mat-option>
                                </mat-select>
                              </mat-form-field>
                            </div>
                          </div>
                        </div>
                        <div class='container-fluid p-0 '>
                          <div class='row mb-3'>
                            <div class='col-12'>
                              <h5 class='mat-h5 text-color__primary--light text-uppercase mb-0 mr-4 font-calibri'>
                                Media</h5>
                            </div>
                          </div>
                          <div class='row mb-3'>
                            <div class='col-12'>
                              <p class='text-muted mb-2'>Video File</p>
                              <div class='d-flex align-items-center'>
                                <hidden-innovation-common-form-field-video
                                  controlPath='videoId'
                                  [parentCtrl]='testGroup.controls.videoId'
                                  (emitVideoCtrlData)='testGroup.controls.videoId?.setValue($event)'
                                  (emitRemoveVideo)='testGroup.controls.videoId?.reset($event)'
                                ></hidden-innovation-common-form-field-video>
                                <div class='ml-2'>
                                  <mat-hint>
                                    <small>({{constantDataService.FIZE_SIZE_DATA.videoFormatMessage}})</small>
                                  </mat-hint>
                                  <br>
                                  <mat-hint>
                                    <small>({{constantDataService.FIZE_SIZE_DATA.videoRatioMessage}})</small>
                                  </mat-hint>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class='row mb-3'>
                            <div class='col-12'>
                              <p class='text-muted mb-2'>Thumbnail</p>
                              <hidden-innovation-common-form-field-image
                                controlPath='thumbnailId'
                                [aspectRatio]='aspectRatio.CUBE'
                                [parentCtrl]='testGroup.controls.thumbnailId'
                                (emitImageCtrlData)='testGroup.controls.thumbnailId?.setValue($event)'
                                (emitRemoveImage)='testGroup.controls.thumbnailId?.reset($event)'
                              ></hidden-innovation-common-form-field-image>
                            </div>
                          </div>
                          <div class='row mb-4'>
                            <div class='col-12'>
                              <p class='text-muted mb-2'>Poster</p>
                              <hidden-innovation-common-form-field-image
                                controlPath='posterId'
                                [aspectRatio]='aspectRatio.WIDE'
                                [parentCtrl]='testGroup.controls.posterId'
                                (emitImageCtrlData)='testGroup.controls.posterId?.setValue($event)'
                                (emitRemoveImage)='testGroup.controls.posterId?.reset($event)'
                              ></hidden-innovation-common-form-field-image>
                            </div>
                          </div>
                        </div>
                        <div class='container-fluid p-0 '>
                          <div class='row mb-3'>
                            <div class='col-12'>
                              <h5 class='mat-h5 text-color__primary--light text-uppercase mb-0 mr-4 font-calibri'>
                                Overview</h5>
                            </div>
                          </div>
                          <div class='row mb-2'>
                            <div class='col-12'>
                              <hidden-innovation-common-form-field-textarea
                                [label]='constantDataService.FIELD_NAME.LABEL | titlecase'
                                controlPath='label'
                              ></hidden-innovation-common-form-field-textarea>
                            </div>
                          </div>
                          <div class='row mb-2'>
                            <div class='col-12'>
                              <hidden-innovation-common-form-field-textarea
                                [label]='constantDataService.FIELD_NAME.DESC | titlecase'
                                controlPath='description'
                              ></hidden-innovation-common-form-field-textarea>
                            </div>
                          </div>
                          <div class='row mb-2'>
                            <div class='col-12'>
                              <hidden-innovation-common-form-field-textarea
                                [label]='constantDataService.FIELD_NAME.OUTCOME | titlecase'
                                controlPath='outcomes'
                              ></hidden-innovation-common-form-field-textarea>
                            </div>
                          </div>
                          <div class='row mb-2'>
                            <div class='col-12'>
                              <hidden-innovation-common-form-field-textarea
                                [label]='constantDataService.FIELD_NAME.PROCEDURE | titlecase'
                                controlPath='procedure'
                              ></hidden-innovation-common-form-field-textarea>
                            </div>
                          </div>
                          <div class='row mb-3'>
                            <div class='col-12'>
                              <mat-checkbox color='primary' formControlName='needEquipment'>
                                <h4 class='text-muted m-0 mt-1'>
                                  Equipment
                                </h4>
                              </mat-checkbox>
                            </div>
                          </div>
                          <div class='row mb-3' *ngIf='testGroup.controls.equipment.enabled$ | async'>
                            <div class='col-12'>
                              <hidden-innovation-common-form-field-textarea
                                [label]='constantDataService.FIELD_NAME.EQUIPMENT | titlecase'
                                controlPath='equipment'
                              ></hidden-innovation-common-form-field-textarea>
                            </div>
                          </div>
                        </div>

                        <!--                  Tags Section-->
                        <div class='container-fluid p-0'>
                          <div class='row mb-3'>
                            <div class='col-12'>
                              <div class='row'>
                                <div class='col-12'>
                                  <h5 class='mat-h5 text-color__primary--light text-uppercase mb-0 mr-4 font-calibri'>
                                    Tags</h5>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class='row mb-2'>
                            <div class='col-12'>
                              <hidden-innovation-common-form-field-tag-autocomplete
                                label='Subcategory(s)'
                                [testTags]='testTags'
                                [tagTypeEnum]='tagTypeEnum.SUB_CATEGORY'
                                [tagCategory]='testGroup.controls.category.value'
                                (updateTags)='updateTestTags(tagTypeEnum.SUB_CATEGORY, $event)'
                                (removeTag)='removeTag($event)'
                              ></hidden-innovation-common-form-field-tag-autocomplete>
                            </div>
                          </div>
                          <div class='row mb-2'>
                            <div class='col-12'>
                              <hidden-innovation-common-form-field-tag-autocomplete
                                label='Exercise(s)'
                                [testTags]='testTags'
                                [tagTypeEnum]='tagTypeEnum.EXERCISE'
                                (updateTags)='updateTestTags(tagTypeEnum.EXERCISE, $event)'
                                (removeTag)='removeTag($event)'
                              ></hidden-innovation-common-form-field-tag-autocomplete>
                            </div>
                          </div>
                          <div class='row mb-2'>
                            <div class='col-12'>
                              <hidden-innovation-common-form-field-tag-autocomplete
                                label='Target Area(s)'
                                [testTags]='testTags'
                                [tagTypeEnum]='tagTypeEnum.TARGET_AREA'
                                (updateTags)='updateTestTags(tagTypeEnum.TARGET_AREA, $event)'
                                (removeTag)='removeTag($event)'
                              ></hidden-innovation-common-form-field-tag-autocomplete>
                            </div>
                          </div>
                          <div class='row mb-2'>
                            <div class='col-12'>
                              <hidden-innovation-common-form-field-tag-autocomplete
                                label='Movement Pattern(s)'
                                [testTags]='testTags'
                                [tagTypeEnum]='tagTypeEnum.MOVEMENT_PATTERN'
                                (updateTags)='updateTestTags(tagTypeEnum.MOVEMENT_PATTERN, $event)'
                                (removeTag)='removeTag($event)'
                              ></hidden-innovation-common-form-field-tag-autocomplete>
                            </div>
                          </div>
                          <div class='row mb-2'>
                            <div class='col-12'>
                              <mat-form-field class='w-100' appearance='fill'>
                                <mat-label>Difficulty Level</mat-label>
                                <mat-select formControlName='difficulty'>
                                  <mat-option [value]=type
                                              *ngFor='let type of diffTypeIte'>{{type  | replaceUnderscore | titlecase}}</mat-option>
                                </mat-select>
                              </mat-form-field>
                            </div>
                          </div>
                        </div>

                        <!--                  Input Dropdown-->
                        <div class='container-fluid p-0'>
                          <div class='row mb-3'>
                            <div class='col-12'>
                              <h5 class='mat-h5 text-color__primary--light text-uppercase mb-0 mr-4 font-calibri'>
                                Input</h5>
                            </div>
                          </div>
                          <div class='row mb-3'>
                            <div class='col-12'>
                              <mat-form-field class='w-100'>
                                <mat-label>Input Type</mat-label>
                                <mat-select formControlName='inputType'>
                                  <mat-option *ngFor='let type of testInputTypeIte'
                                              [value]='type'>{{type | replaceUnderscore | titlecase}}</mat-option>
                                </mat-select>
                                <mat-hint *ngIf='testGroup.value.inputType === testInputTypeEnum.RATIO'>Ratio
                                  calculated by Value (x) / Value (y)
                                </mat-hint>
                              </mat-form-field>
                            </div>
                          </div>
                        </div>
                        <ng-container [ngSwitch]='testGroup.value.inputType'>
                          <!--                  1 RM-->
                          <div class='container p-0' *ngSwitchCase='testInputTypeEnum.ONE_RM'>
                            <div class='row mb-4' formGroupName='reps'>
                              <div class='col-12'>
                                <mat-checkbox formControlName='oneRep' class='mr-4' color='primary'>1 rep</mat-checkbox>
                                <mat-checkbox formControlName='threeRep' class='mr-4' color='primary'>3 rep
                                </mat-checkbox>
                                <mat-checkbox formControlName='fiveRep' class='mr-4' color='primary'>5 rep
                                </mat-checkbox>
                              </div>
                            </div>
                            <div class='row mb-3'>
                              <div class='col-12'>
                                <h5 class='mat-h5 text-color__primary--light text-uppercase mb-0 mr-4 font-calibri'>
                                  Score Sheet
                                </h5>
                              </div>
                            </div>
                            <!--                            Point ScoreSheet-->
                            <ng-template formArrayName='oneRMInputFields' ngFor
                                         [ngForOf]='oneRMInputFieldFormArray.controls' let-i='index'>
                              <div class='row mb-2' formGroupName='{{i}}'>
                                <div class='col-2'>
                                  <h4 class='mat-h4 mb-0 mt-4 font-calibri--bold'>
                                    {{getOneRMInputFieldGroup(i).controls.point.value}} Points
                                  </h4>
                                </div>
                                <div class='col-5'>
                                  <mat-form-field class='w-100'>
                                    <mat-label>Low</mat-label>
                                    <input formControlName='low' matInput autocomplete='no' type='number'>
                                    <mat-error
                                      *ngIf='getOneRMInputFieldGroup(i).controls.low.errors?.required && getOneRMInputFieldGroup(i).controls.low.errors?.notEmpty'>
                                      Low {{formValidationService.fieldValidationMessage.required}}</mat-error>
                                  </mat-form-field>
                                </div>
                                <div class='col-5'>
                                  <mat-form-field class='w-100'>
                                    <mat-label>High</mat-label>
                                    <input formControlName='high' matInput autocomplete='off' type='number'>
                                    <mat-error>
                                      <ng-template
                                        [ngIf]='getOneRMInputFieldGroup(i).controls.high.hasError("required")'>
                                        High {{formValidationService.fieldValidationMessage.required}}
                                      </ng-template>
                                      <ng-template
                                        [ngIf]='getOneRMInputFieldGroup(i).controls.high.hasError("greaterThan")'>
                                        {{formValidationService.pointsValidationMessage?.highField}}
                                      </ng-template>
                                    </mat-error>
                                  </mat-form-field>
                                </div>
                                <ng-template [ngIf]='i > 0'>
                                  <ng-template [ngIf]='oneRMInputFieldFormArray.errors$ | async' let-err>
                                    <div class='col-2'></div>
                                    <div class='col-10 mb-2'
                                         *ngIf='err[(i - 1) + "lessThan" + (i)] && (getOneRMInputFieldGroup(i).get("low").touch$ | async) && !(getOneRMInputFieldGroup(i).get("low").hasError("required") || getOneRMInputFieldGroup(i).get("low").hasError("notEmpty"))'>
                                      <mat-error>
                                        <small>Choose a higher value from previous high point</small>
                                      </mat-error>
                                    </div>
                                  </ng-template>
                                </ng-template>
                              </div>
                            </ng-template>
                            <div class='row'>
                              <div class='col-12'>
                                <hidden-innovation-common-form-field-textarea
                                  [label]='constantDataService.FIELD_NAME.RESULT_EXPLANATION | titlecase'
                                  controlPath='resultExplanation'
                                ></hidden-innovation-common-form-field-textarea>
                              </div>
                            </div>
                          </div>

                          <!--                  Multiple Choice-->
                          <div class='container p-0' *ngSwitchCase='testInputTypeEnum.MULTIPLE_CHOICE'>
                            <div class='row mb-2'>
                              <div class='col-12'>
                                <hidden-innovation-common-form-field
                                  label='Question'
                                  controlPath='multipleChoiceQuestion'
                                ></hidden-innovation-common-form-field>
                              </div>
                            </div>
                            <ng-template formArrayName='multipleChoiceInputFields' ngFor
                                         [ngForOf]='mcRMInputFieldFormArray.controls' let-i='index'>
                              <div class='row mb-2' formGroupName='{{i}}'>
                                <div class='col-2'>
                                  <h4 class='mat-h4 mb-0 mt-4 font-calibri--bold'>
                                    {{mcRMInputFieldFieldGroup(i).controls.point.value}} Points
                                  </h4>
                                </div>
                                <div class='col-10'>
                                  <mat-form-field class='w-100'>
                                    <mat-label>Answer {{i + 1}}</mat-label>
                                    <input formControlName='answer' matInput autocomplete='no' type='text'>
                                    <mat-error>
                                      Answer {{formValidationService.fieldValidationMessage.required}}</mat-error>
                                  </mat-form-field>
                                </div>
                              </div>
                            </ng-template>
                          </div>

                          <!--                  Reps-->
                          <div class='container p-0' *ngSwitchCase='testInputTypeEnum.REPS'>
                            <div class='row mb-2'>
                              <div class='col-2'>
                                <h4 class='mat-h4  mt-4  mb-0 font-calibri--bold'>
                                  0 Points
                                </h4>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>Low</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>High</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                            </div>
                            <div class='row mb-2'>
                              <div class='col-2'>
                                <h4 class='mat-h4  mt-4  mb-0 font-calibri--bold'>
                                  1 Points
                                </h4>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>Low</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>High</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                            </div>
                            <div class='row mb-2'>
                              <div class='col-2'>
                                <h4 class='mat-h4  mt-4  mb-0 font-calibri--bold'>
                                  2 Points
                                </h4>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>Low</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>High</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                            </div>
                            <div class='row mb-2'>
                              <div class='col-2'>
                                <h4 class='mat-h4  mt-4  mb-0 font-calibri--bold'>
                                  3 Points
                                </h4>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>Low</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>High</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                            </div>
                            <div class='row mb-2'>
                              <div class='col-2'>
                                <h4 class='mat-h4  mt-4  mb-0 font-calibri--bold'>
                                  4 Points
                                </h4>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>Low</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>High</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                            </div>
                            <div class='row mb-2'>
                              <div class='col-2'>
                                <h4 class='mat-h4 mt-2 mb-0 font-calibri--bold'>
                                  5 Points <br> (optimal)
                                </h4>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>Low</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>High</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                            </div>
                          </div>

                          <!--                  Distance Length-->
                          <div class='container p-0' *ngSwitchCase='testInputTypeEnum.DISTANCE'>
                            <div class='row mb-2'>
                              <div class='col-12'>
                                <mat-form-field class='w-100'>
                                  <mat-label>Units</mat-label>
                                  <mat-select formControlName='distanceUnit'>
                                    <mat-option [value]='distanceTypeEnum.MILLIMETRE'>
                                      {{distanceTypeEnum.MILLIMETRE | titlecase}} (mm)
                                    </mat-option>
                                    <mat-option [value]='distanceTypeEnum.CENTIMETRE'>
                                      {{distanceTypeEnum.CENTIMETRE | titlecase}} (cm)
                                    </mat-option>
                                    <mat-option [value]='distanceTypeEnum.METRE'>
                                      {{distanceTypeEnum.METRE | titlecase}} (m)
                                    </mat-option>
                                    <mat-option [value]='distanceTypeEnum.KILOMETRE'>
                                      {{distanceTypeEnum.KILOMETRE | titlecase}} (km)
                                    </mat-option>
                                  </mat-select>
                                </mat-form-field>
                              </div>
                            </div>
                            <ng-template formArrayName='inputFields' ngFor
                                         [ngForOf]='inputFieldFormArray.controls' let-i='index'>
                              <div class='row mb-2' formGroupName='{{i}}'>
                                <div class='col-2'>
                                  <h4 class='mat-h4 mb-0 mt-4 font-calibri--bold'>
                                    {{inputFieldGroup(i).controls.point.value}} Points
                                  </h4>
                                </div>
                                <div class='col-5'>
                                  <mat-form-field class='w-100'>
                                    <mat-label>Low</mat-label>
                                    <input formControlName='low' matInput autocomplete='no' type='number'>
                                    <mat-error
                                      *ngIf='inputFieldGroup(i).controls.low.errors?.required && inputFieldGroup(i).controls.low.errors?.notEmpty'>
                                      Low {{formValidationService.fieldValidationMessage.required}}</mat-error>
                                  </mat-form-field>
                                </div>
                                <div class='col-5'>
                                  <mat-form-field class='w-100'>
                                    <mat-label>High</mat-label>
                                    <input formControlName='high' matInput autocomplete='off' type='number'>
                                    <mat-error>
                                      <ng-template
                                        [ngIf]='inputFieldGroup(i).controls.high.hasError("required")'>
                                        High {{formValidationService.fieldValidationMessage.required}}
                                      </ng-template>
                                      <ng-template
                                        [ngIf]='inputFieldGroup(i).controls.high.hasError("greaterThan")'>
                                        {{formValidationService.pointsValidationMessage?.highField}}
                                      </ng-template>
                                    </mat-error>
                                  </mat-form-field>
                                </div>
                                <ng-template [ngIf]='i > 0'>
                                  <ng-template [ngIf]='inputFieldFormArray.errors$ | async' let-err>
                                    <div class='col-2'></div>
                                    <div class='col-10 mb-2'
                                         *ngIf='err[(i - 1) + "lessThan" + (i)] && (inputFieldGroup(i).get("low").touch$ | async) && !(inputFieldGroup(i).get("low").hasError("required") || inputFieldGroup(i).get("low").hasError("notEmpty"))'>
                                      <mat-error>
                                        <small>Choose a higher value from previous high point</small>
                                      </mat-error>
                                    </div>
                                  </ng-template>
                                </ng-template>
                              </div>
                            </ng-template>
                          </div>

                          <!--                  Time -->
                          <div class='container p-0' *ngSwitchCase='testInputTypeEnum.TIME'>
                            <ng-template formArrayName='inputFields' ngFor
                                         [ngForOf]='inputFieldFormArray.controls' let-i='index'>
                              <div class='row mb-2' formGroupName='{{i}}'>
                                <div class='col-2'>
                                  <h4 class='mat-h4 mb-0 mt-4 font-calibri--bold'>
                                    {{inputFieldGroup(i).controls.point.value}} Points
                                  </h4>
                                </div>
                                <div class='col-5'>
                                  <div class='timePicker__container'
                                       [ngClass]='{"error": inputFieldGroup(i).controls.low.hasErrorAndDirty("maxDate") && (inputFieldGroup(i).controls.low.dirty$ | async)}'>
                                    <mat-label><small class='text-muted'>Low</small></mat-label>
                                    <ngx-mat-timepicker
                                      color='primary'
                                      formControlName='low'
                                      [defaultTime]='[]'
                                      [showSeconds]='true'
                                      [enableMeridian]='false'
                                      [showSpinners]='false'></ngx-mat-timepicker>
                                  </div>
                                </div>
                                <div class='col-5'>
                                  <div class='timePicker__container'
                                       [ngClass]='{"error": inputFieldGroup(i).controls.high.hasErrorAndDirty("minDate") && (inputFieldGroup(i).controls.high.dirty$ | async)}'>
                                    <mat-label><small class='text-muted'>High</small></mat-label>
                                    <ngx-mat-timepicker
                                      color='primary'
                                      formControlName='high'
                                      [defaultTime]='[]'
                                      [showSeconds]='true'
                                      [enableMeridian]='false'
                                      [showSpinners]='false'></ngx-mat-timepicker>
                                  </div>
                                  <mat-error *ngIf='inputFieldGroup(i).controls.high.hasErrorAndDirty("minDate") && (inputFieldGroup(i).controls.high.dirty$ | async)'>
                                      <small>{{formValidationService.pointsValidationMessage?.highField}}</small>
                                  </mat-error>
                                </div>
                                <ng-template [ngIf]='i > 0'>
                                  <ng-template [ngIf]='inputFieldFormArray.errors$ | async' let-err>
                                    <div class='col-2'></div>
                                    <div class='col-10 mb-2'
                                         *ngIf='err[(i - 1) + "lessThan" + (i)] && (inputFieldGroup(i).get("low").dirty$ | async)'>
                                      <mat-error>
                                        <small>Choose a higher value from previous high point</small>
                                      </mat-error>
                                    </div>
                                  </ng-template>
                                </ng-template>
                              </div>
                            </ng-template>
                          </div>

                          <!--                  Weight-->
                          <div class='container p-0' *ngSwitchCase='testInputTypeEnum.WEIGHT'>
                            <div class='row mb-2'>
                              <div class='col-12'>
                                <mat-form-field class='w-100'>
                                  <mat-label>Units</mat-label>
                                  <mat-select formControlName='weightUnit'>
                                    <mat-option
                                      [value]='weightTypeEnum.MILLIGRAM'>{{weightTypeEnum.MILLIGRAM | titlecase}} (mg)
                                    </mat-option>
                                    <mat-option [value]='weightTypeEnum.GRAM'>{{weightTypeEnum.GRAM |titlecase}}(g)
                                    </mat-option>
                                    <mat-option [value]='weightTypeEnum.KILOGRAM'>{{weightTypeEnum.KILOGRAM |titlecase}}
                                      (kg)
                                    </mat-option>
                                  </mat-select>
                                </mat-form-field>
                              </div>
                            </div>
                            <ng-template formArrayName='inputFields' ngFor
                                         [ngForOf]='inputFieldFormArray.controls' let-i='index'>
                              <div class='row mb-2' formGroupName='{{i}}'>
                                <div class='col-2'>
                                  <h4 class='mat-h4 mb-0 mt-4 font-calibri--bold'>
                                    {{inputFieldGroup(i).controls.point.value}} Points
                                  </h4>
                                </div>
                                <div class='col-5'>
                                  <mat-form-field class='w-100'>
                                    <mat-label>Low</mat-label>
                                    <input formControlName='low' matInput autocomplete='no' type='number'>
                                    <mat-error
                                      *ngIf='inputFieldGroup(i).controls.low.errors?.required && inputFieldGroup(i).controls.low.errors?.notEmpty'>
                                      Low {{formValidationService.fieldValidationMessage.required}}</mat-error>
                                  </mat-form-field>
                                </div>
                                <div class='col-5'>
                                  <mat-form-field class='w-100'>
                                    <mat-label>High</mat-label>
                                    <input formControlName='high' matInput autocomplete='off' type='number'>
                                    <mat-error>
                                      <ng-template
                                        [ngIf]='inputFieldGroup(i).controls.high.hasError("required")'>
                                        High {{formValidationService.fieldValidationMessage.required}}
                                      </ng-template>
                                      <ng-template
                                        [ngIf]='inputFieldGroup(i).controls.high.hasError("greaterThan")'>
                                        {{formValidationService.pointsValidationMessage?.highField}}
                                      </ng-template>
                                    </mat-error>
                                  </mat-form-field>
                                </div>
                                <ng-template [ngIf]='i > 0'>
                                  <ng-template [ngIf]='inputFieldFormArray.errors$ | async' let-err>
                                    <div class='col-2'></div>
                                    <div class='col-10 mb-2'
                                         *ngIf='err[(i - 1) + "lessThan" + (i)] && (inputFieldGroup(i).get("low").touch$ | async) && !(inputFieldGroup(i).get("low").hasError("required") || inputFieldGroup(i).get("low").hasError("notEmpty"))'>
                                      <mat-error>
                                        <small>Choose a higher value from previous high point</small>
                                      </mat-error>
                                    </div>
                                  </ng-template>
                                </ng-template>
                              </div>
                            </ng-template>
                          </div>

                          <!--                  Ratio-->
                          <div class='container p-0' *ngSwitchCase='testInputTypeEnum.RATIO'>
                            <div class='row mb-3'>
                              <div class='col-12'>
                                <h5 class='mat-h5 text-color__primary--light  mb-0 mr-4 font-calibri'>
                                  VARIABLE(x)</h5>
                              </div>
                            </div>
                            <div class='row mb-2'>
                              <div class='col-12'>
                                <mat-form-field class='w-100' appearance='fill'>
                                  <mat-label>Variable(x) Type</mat-label>
                                  <mat-select [value]='null'>
                                    <mat-option [value]='null'>Select an option</mat-option>
                                    <mat-option value='weigth'>Weight</mat-option>
                                    <mat-option value='distance'>Distance/length</mat-option>
                                    <mat-option value='biometric'>Biometric</mat-option>
                                  </mat-select>
                                </mat-form-field>
                              </div>
                            </div>
                            <div class='row mb-2'>
                              <div class='col-12'>
                                <mat-form-field class='w-100' appearance='fill'>
                                  <mat-label>Variable(x) Unit</mat-label>
                                  <mat-select>
                                    <mat-option value='millimetres'>Millimetres (mm)</mat-option>
                                    <mat-option value='centimetres'>Centimetres (cm)</mat-option>
                                    <mat-option value='metres'>Metres (m)</mat-option>
                                    <mat-option value='kilometres'>Kilometres (km)</mat-option>
                                  </mat-select>
                                </mat-form-field>
                              </div>
                            </div>
                            <div class='row mb-2'>
                              <div class='col-12'>
                                <mat-form-field class='w-100' appearance='fill'>
                                  <mat-label>Variable(x) Label</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                            </div>

                            <div class='row mb-3'>
                              <div class='col-12'>
                                <h5 class='mat-h5 text-color__primary--light mb-0 mr-4 font-calibri'>
                                  VARIABLE(y)</h5>
                              </div>
                            </div>
                            <div class='row mb-2'>
                              <div class='col-12'>
                                <mat-form-field class='w-100' appearance='fill'>
                                  <mat-label>Variable(y) Type</mat-label>
                                  <mat-select>
                                    <mat-option value='weigth'>Weight</mat-option>
                                    <mat-option value='distance'>Distance/length</mat-option>
                                    <mat-option value='biometric'>Biometric</mat-option>
                                  </mat-select>
                                </mat-form-field>
                              </div>
                            </div>
                            <div class='row mb-2'>
                              <div class='col-12'>
                                <mat-form-field class='w-100' appearance='fill'>
                                  <mat-label>Variable(y) Unit</mat-label>
                                  <mat-select>
                                    <mat-option value='millimetres'>Millimetres (mm)</mat-option>
                                    <mat-option value='centimetres'>Centimetres (cm)</mat-option>
                                    <mat-option value='metres'>Metres (m)</mat-option>
                                    <mat-option value='kilometres'>Kilometres (km)</mat-option>
                                  </mat-select>
                                </mat-form-field>
                              </div>
                            </div>
                            <div class='row mb-2'>
                              <div class='col-12'>
                                <mat-form-field class='w-100' appearance='fill'>
                                  <mat-label>Variable(y) Label</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                            </div>

                            <div class='row mb-2'>
                              <div class='col-2'>
                                <h4 class='mat-h4  mt-4  mb-0 font-calibri--bold'>
                                  0 Points
                                </h4>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>Low</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>High</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                            </div>
                            <div class='row mb-2'>
                              <div class='col-2'>
                                <h4 class='mat-h4  mt-4  mb-0 font-calibri--bold'>
                                  1 Points
                                </h4>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>Low</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>High</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                            </div>
                            <div class='row mb-2'>
                              <div class='col-2'>
                                <h4 class='mat-h4  mt-4  mb-0 font-calibri--bold'>
                                  2 Points
                                </h4>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>Low</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>High</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                            </div>
                            <div class='row mb-2'>
                              <div class='col-2'>
                                <h4 class='mat-h4  mt-4  mb-0 font-calibri--bold'>
                                  3 Points
                                </h4>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>Low</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>High</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                            </div>
                            <div class='row mb-2'>
                              <div class='col-2'>
                                <h4 class='mat-h4  mt-4  mb-0 font-calibri--bold'>
                                  4 Points
                                </h4>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>Low</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>High</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                            </div>
                            <div class='row mb-2'>
                              <div class='col-2'>
                                <h4 class='mat-h4  mt-2  mb-0 font-calibri--bold'>
                                  5 Points <br> (optimal)
                                </h4>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>Low</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>High</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                            </div>
                          </div>

                          <!--                  Custom Numeric-->
                          <div class='container p-0' *ngSwitchCase='testInputTypeEnum.CUSTOM_NUMERIC'>
                            <div class='row mb-23'>
                              <div class='col-12'>
                                <mat-form-field class='w-100'>
                                  <mat-label>Label</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                            </div>
                            <div class='row mb-2'>
                              <div class='col-2'>
                                <h4 class='mat-h4  mt-4  mb-0 font-calibri--bold'>
                                  0 Points
                                </h4>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>Low</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>High</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                            </div>
                            <div class='row mb-2'>
                              <div class='col-2'>
                                <h4 class='mat-h4  mt-4  mb-0 font-calibri--bold'>
                                  1 Points
                                </h4>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>Low</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>High</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                            </div>
                            <div class='row mb-2'>
                              <div class='col-2'>
                                <h4 class='mat-h4  mt-4  mb-0 font-calibri--bold'>
                                  2 Points
                                </h4>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>Low</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>High</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                            </div>
                            <div class='row mb-2'>
                              <div class='col-2'>
                                <h4 class='mat-h4  mt-4  mb-0 font-calibri--bold'>
                                  3 Points
                                </h4>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>Low</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>High</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                            </div>
                            <div class='row mb-2'>
                              <div class='col-2'>
                                <h4 class='mat-h4  mt-4  mb-0 font-calibri--bold'>
                                  4 Points
                                </h4>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>Low</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>High</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                            </div>
                            <div class='row mb-2'>
                              <div class='col-2'>
                                <h4 class='mat-h4  mt-2  mb-0 font-calibri--bold'>
                                  5 Points <br> (optimal)
                                </h4>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>Low</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>High</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                            </div>
                          </div>

                          <!--                  Relative Profile-->
                          <div class='container p-0' *ngSwitchCase='testInputTypeEnum.RELATIVE_PROFILE'>
                            <div class='row mb-2'>
                              <div class='col-12'>
                                <h5 class='mat-h5 text-color__primary--light text-uppercase mb-0 mr-4 font-calibri'>
                                  Profile Input(x)</h5>
                              </div>
                            </div>
                            <div class='row mb-3'>
                              <div class='col-12'>
                                <mat-form-field class='w-100' appearance='fill'>
                                  <mat-label>Profile Input</mat-label>
                                  <mat-select>
                                    <mat-option value='height'>Height</mat-option>
                                    <mat-option value='bodyweight'>Bodyweight</mat-option>
                                    <mat-option value='age'>Age</mat-option>
                                  </mat-select>
                                </mat-form-field>
                              </div>
                            </div>

                            <div class='row mb-2'>
                              <div class='col-12'>
                                <h5 class='mat-h5 text-color__primary--light text-uppercase mb-0 mr-4 font-calibri'>
                                  User Input(y)</h5>
                              </div>
                            </div>
                            <div class='row mb-2'>
                              <div class='col-12'>
                                <mat-form-field class='w-100' appearance='fill'>
                                  <mat-label>User Input Type</mat-label>
                                  <mat-select>
                                    <mat-option value='weigth'>Weight</mat-option>
                                    <mat-option value='distance'>Distance/length</mat-option>
                                    <mat-option value='biometric'>Biometric</mat-option>
                                  </mat-select>
                                </mat-form-field>
                              </div>
                            </div>
                            <div class='row mb-2'>
                              <div class='col-12'>
                                <mat-form-field class='w-100' appearance='fill'>
                                  <mat-label>User Input Unit</mat-label>
                                  <mat-select>
                                    <mat-option value='milligrams'>Milligrams (mg)</mat-option>
                                    <mat-option value='grams'>Grams (g)</mat-option>
                                    <mat-option value='kilograms'>Kilograms (kg)</mat-option>
                                  </mat-select>
                                </mat-form-field>
                              </div>
                            </div>
                            <div class='row mb-3'>
                              <div class='col-12'>
                                <mat-form-field class='w-100' appearance='fill'>
                                  <mat-label>User Input Label</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                            </div>


                            <div class='row mb-2'>
                              <div class='col-2'>
                                <h4 class='mat-h4  mt-4  mb-0 font-calibri--bold'>
                                  0 Points
                                </h4>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>Low</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>High</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                            </div>
                            <div class='row mb-2'>
                              <div class='col-2'>
                                <h4 class='mat-h4  mt-4  mb-0 font-calibri--bold'>
                                  1 Points
                                </h4>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>Low</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>High</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                            </div>
                            <div class='row mb-2'>
                              <div class='col-2'>
                                <h4 class='mat-h4  mt-4  mb-0 font-calibri--bold'>
                                  2 Points
                                </h4>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>Low</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>High</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                            </div>
                            <div class='row mb-2'>
                              <div class='col-2'>
                                <h4 class='mat-h4  mt-4  mb-0 font-calibri--bold'>
                                  3 Points
                                </h4>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>Low</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>High</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                            </div>
                            <div class='row mb-2'>
                              <div class='col-2'>
                                <h4 class='mat-h4  mt-4  mb-0 font-calibri--bold'>
                                  4 Points
                                </h4>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>Low</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>High</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                            </div>
                            <div class='row mb-2'>
                              <div class='col-2'>
                                <h4 class='mat-h4  mt-2  mb-0 font-calibri--bold'>
                                  5 Points <br> (optimal)
                                </h4>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>Low</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                              <div class='col-5'>
                                <mat-form-field class='w-100'>
                                  <mat-label>High</mat-label>
                                  <input matInput autocomplete='no' type='text'>
                                </mat-form-field>
                              </div>
                            </div>
                          </div>
                        </ng-container>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </mat-card-content>

        </mat-card>
      </div>
    </div>
  </div>

</form>
